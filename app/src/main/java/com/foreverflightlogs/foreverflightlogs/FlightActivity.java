package com.foreverflightlogs.foreverflightlogs;

import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.view.View;
import android.view.inputmethod.InputMethodManager;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.EditText;

import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

public class FlightActivity extends AppCompatActivity {

    public static final String FLIGHTID = "com.foreverflightlogs.FLIGHTID";
    AutoCompleteTextView editOriginText; // = (AutoCompleteTextView) findViewById(R.id.originText);
    AutoCompleteTextView editDestinationText; // = (AutoCompleteTextView) findViewById(R.id.destinationText);
    ArrayAdapter<String> adapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_flight);

        editOriginText = (AutoCompleteTextView) findViewById(R.id.originText);
        editDestinationText = (AutoCompleteTextView) findViewById(R.id.destinationText);

        List<String> array = new ArrayList<String>();
        array.add("SLC");
        array.add("LBA");
        array.add("ADK");
        array.add("AKK");
        array.add("Z13");
        array.add("KKI");
        array.add("AKI");
        array.add("KQA");
        array.add("7AK");
        array.add("AUK");
        array.add("Z33");
        array.add("5A8");
        array.add("4AK7");
        array.add("Z25");
        array.add("6A8");
        array.add("AFM");
        array.add("80A");
        array.add("AK81");
        array.add("AKP");
        array.add("AK00");
        array.add("00AK");
        array.add("2OK");
        array.add("99AA");
        array.add("A13");
        array.add("CSR");
        array.add("AK82");
        array.add("3C3");
        array.add("EDF");
        array.add("AK91");
        array.add("6AK5");
        array.add("AK12");
        array.add("LHD");
        array.add("MRI");
        array.add("PA06");
        array.add("AK38");
        array.add("AA06");
        array.add("9AK5");
        array.add("ANC");
        array.add("AA04");
        array.add("AGN");
        array.add("ANI");
        array.add("ANN");
        array.add("Z43");
        array.add("ANV");
        array.add("K40");
        array.add("ARC");
        array.add("AKA");
        array.add("4A2");
        array.add("ATK");
        array.add("ATU");
        array.add("BNF");
        array.add("BRW");
        array.add("BTI");
        array.add("BQV");
        array.add("Z47");
        array.add("AK02");
        array.add("Z48");
        array.add("Z52");
        array.add("WBQ");
        array.add("KBE");
        array.add("BLG");
        array.add("Z59");
        array.add("BET");
        array.add("Z58");
        array.add("BTT");
        array.add("2A4");
        array.add("D71");
        array.add("BGQ");
        array.add("6A7");
        array.add("95AK");
        array.add("68AK");
        array.add("9AK7");
        array.add("AA10");
        array.add("08AK");
        array.add("02AA");
        array.add("AK48");
        array.add("86AK");
        array.add("AA02");
        array.add("L95");
        array.add("AK86");
        array.add("91AK");
        array.add("63AK");
        array.add("85AK");
        array.add("20AK");
        array.add("AA07");
        array.add("AK87");
        array.add("AK95");
        array.add("AA01");
        array.add("09AK");
        array.add("37AK");
        array.add("Z91");
        array.add("BCV");
        array.add("5BK");
        array.add("AK97");
        array.add("BYA");
        array.add("KTS");
        array.add("AK98");
        array.add("BVK");
        array.add("AK75");
        array.add("TTW");
        array.add("15AK");
        array.add("CDE");
        array.add("LUR");
        array.add("EHM");
        array.add("Z71");
        array.add("CZF");
        array.add("26AK");
        array.add("CSP");
        array.add("CEM");
        array.add("CIK");
        array.add("5CD");
        array.add("WCR");
        array.add("05AA");
        array.add("CFK");
        array.add("AK13");
        array.add("C05");
        array.add("VAK");
        array.add("48AK");
        array.add("CKX");
        array.add("AJC");
        array.add("Z78");
        array.add("KCL");
        array.add("A79");
        array.add("CZN");
        array.add("CZO");
        array.add("CXC");
        array.add("9A3");
        array.add("AK24");
        array.add("CRC");
        array.add("CHP");
        array.add("96AK");
        array.add("CLP");
        array.add("Z84");
        array.add("CLF");
        array.add("KCC");
        array.add("Z87");
        array.add("CDB");
        array.add("1AK3");
        array.add("CXF");
        array.add("KCR");
        array.add("JLA");
        array.add("Z93");
        array.add("CKU");
        array.add("CDV");
        array.add("AK30");
        array.add("K29");
        array.add("CGA");
        array.add("1AK0");
        array.add("5C5");
        array.add("1AK1");
        array.add("CJX");
        array.add("01AA");
        array.add("1AK2");
        array.add("DCK");
        array.add("AK15");
        array.add("AK78");
        array.add("AA03");
        array.add("SCC");
        array.add("4AK1");
        array.add("37AA");
        array.add("DEE");
        array.add("AK77");
        array.add("9AK4");
        array.add("AK35");
        array.add("45AK");
        array.add("AA22");
        array.add("D66");
        array.add("76AK");
        array.add("29AK");
        array.add("11AK");
        array.add("72AK");
        array.add("AK09");
        array.add("BIG");
        array.add("DLG");
        array.add("AK21");
        array.add("AA15");
        array.add("DM2");
        array.add("AK23");
        array.add("EAA");
        array.add("D72");
        array.add("47AK");
        array.add("EEK");
        array.add("EII");
        array.add("KKU");
        array.add("KEK");
        array.add("ERO");
        array.add("ELV");
        array.add("ELI");
        array.add("MOS");
        array.add("1Z9");
        array.add("ENM");
        array.add("3AK1");
        array.add("2Z2");
        array.add("2Z3");
        array.add("EXI");
        array.add("AK28");
        array.add("2Z5");
        array.add("31AK");
        array.add("EIL");
        array.add("FAI");
        array.add("AK7");
        array.add("32AK");
        array.add("AK22");
        array.add("MTF");
        array.add("AK52");
        array.add("25AA");
        array.add("83AK");
        array.add("2AK1");
        array.add("2AK2");
        array.add("FBK");
        array.add("2Z6");
        array.add("KFP");
        array.add("0AA4");
        array.add("FKK");
        array.add("TNW");
        array.add("3Z1");
        array.add("2AK3");
        array.add("FLT");
        array.add("FRN");
        array.add("8AK0");
        array.add("FYU");
        array.add("FNR");
        array.add("GBH");
        array.add("GAL");
        array.add("GAM");
        array.add("AK42");
        array.add("AQY");
        array.add("KGZ");
        array.add("28AK");
        array.add("5AK4");
        array.add("3Z8");
        array.add("GLV");
        array.add("GNU");
        array.add("Z40");
        array.add("GSZ");
        array.add("KGX");
        array.add("GKN");
        array.add("8AK1");
        array.add("GST");
        array.add("18AA");
        array.add("AA35");
        array.add("9AA9");
        array.add("0AA6");
        array.add("3Z9");
        array.add("HNS");
        array.add("AK74");
        array.add("HWI");
        array.add("7AK7");
        array.add("HRR");
        array.add("AK33");
        array.add("2AK5");
        array.add("2AK6");
        array.add("HYL");
        array.add("HCA");
        array.add("46AK");
        array.add("2AK4");
        array.add("0AK7");
        array.add("AK18");
        array.add("98AK");
        array.add("AK17");
        array.add("HOM");
        array.add("5BL");
        array.add("OL99");
        array.add("4AA4");
        array.add("OOH");
        array.add("HNH");
        array.add("HPB");
        array.add("5HO");
        array.add("4Z5");
        array.add("AK89");
        array.add("AA33");
        array.add("80AK");
        array.add("AK29");
        array.add("13AK");
        array.add("AA30");
        array.add("HUS");
        array.add("HLA");
        array.add("HYG");
        array.add("4Z7");
        array.add("19AK");
        array.add("2AK8");
        array.add("IGG");
        array.add("ILI");
        array.add("2AK9");
        array.add("KIB");
        array.add("4Z9");
        array.add("AK60");
        array.add("AK94");
        array.add("AA44");
        array.add("5Z1");
        array.add("JNU");
        array.add("18AK");
        array.add("73AK");
        array.add("KAE");
        array.add("AFE");
        array.add("8AK7");
        array.add("1KC");
        array.add("KLG");
        array.add("KAL");
        array.add("5Z4");
        array.add("5Z5");
        array.add("Z90");
        array.add("KYK");
        array.add("KKL");
        array.add("KXA");
        array.add("Z09");
        array.add("AK5");
        array.add("5KS");
        array.add("5Z9");
        array.add("RK1");
        array.add("6AK3");
        array.add("8AK2");
        array.add("30AK");
        array.add("3AK5");
        array.add("75AK");
        array.add("2R3");
        array.add("03AK");
        array.add("3AK4");
        array.add("0AA7");
        array.add("ENA");
        array.add("82AK");
        array.add("2VI2");
        array.add("AA16");
        array.add("17AK");
        array.add("5KE");
        array.add("KTN");
        array.add("8AK4");
        array.add("8K9");
        array.add("9C0");
        array.add("3AK0");
        array.add("IAN");
        array.add("KVC");
        array.add("AKN");
        array.add("AA05");
        array.add("IIK");
        array.add("KKB");
        array.add("KVL");
        array.add("AQC");
        array.add("AKW");
        array.add("OBU");
        array.add("ADQ");
        array.add("9Z3");
        array.add("KDK");
        array.add("T44");
        array.add("9K2");
        array.add("JZZ");
        array.add("DUY");
        array.add("2A9");
        array.add("OTZ");
        array.add("KKA");
        array.add("KYU");
        array.add("LKK");
        array.add("AA38");
        array.add("27AK");
        array.add("AA51");
        array.add("UBW");
        array.add("KWT");
        array.add("GGV");
        array.add("Z55");
        array.add("13S");
        array.add("AK80");
        array.add("2A3");
        array.add("9Z9");
        array.add("ALZ");
        array.add("9Z8");
        array.add("2AK");
        array.add("AK53");
        array.add("4AK");
        array.add("AK71");
        array.add("4AK3");
        array.add("13Z");
        array.add("4AK5");
        array.add("MLY");
        array.add("MBA");
        array.add("MDM");
        array.add("MYK");
        array.add("0AK5");
        array.add("0AK8");
        array.add("AK0");
        array.add("15Z");
        array.add("AK31");
        array.add("56AK");
        array.add("MCG");
        array.add("16Z");
        array.add("AK40");
        array.add("AK06");
        array.add("INR");
        array.add("24AK");
        array.add("MYU");
        array.add("MTM");
        array.add("84K");
        array.add("MDO");
        array.add("MHM");
        array.add("51Z");
        array.add("0AK3");
        array.add("99AK");
        array.add("52Z");
        array.add("KMY");
        array.add("MOU");
        array.add("IBN");
        array.add("76Z");
        array.add("5NK");
        array.add("4AK9");
        array.add("78Z");
        array.add("AK07");
        array.add("KEB");
        array.add("4AK8");
        array.add("WNA");
        array.add("PKA");
        array.add("OUL");
        array.add("ENN");
        array.add("KNW");
        array.add("EWU");
        array.add("WWT");
        array.add("IGT");
        array.add("AK73");
        array.add("AK11");
        array.add("1AK5");
        array.add("FSP");
        array.add("IKO");
        array.add("NIN");
        array.add("WTK");
        array.add("OME");
        array.add("94Z");
        array.add("5NN");
        array.add("D76");
        array.add("5AK3");
        array.add("95Z");
        array.add("AK41");
        array.add("5AK2");
        array.add("78AA");
        array.add("0AK0");
        array.add("AA76");
        array.add("ORT");
        array.add("33AK");
        array.add("AK20");
        array.add("AQT");
        array.add("AK32");
        array.add("AA27");
        array.add("NUL");
        array.add("SXP");
        array.add("16A");
        array.add("ZNC");
        array.add("6R7");
        array.add("KOY");
        array.add("Z17");
        array.add("4K5");
        array.add("AK46");
        array.add("AA08");
        array.add("3AK6");
        array.add("AK1");
        array.add("34AK");
        array.add("5AK6");
        array.add("AK88");
        array.add("9AA1");
        array.add("99Z");
        array.add("14AK");
        array.add("39AK");
        array.add("2D3");
        array.add("5AK9");
        array.add("AK93");
        array.add("97AK");
        array.add("AK66");
        array.add("AK92");
        array.add("92AK");
        array.add("3AK2");
        array.add("PAQ");
        array.add("AK63");
        array.add("AK50");
        array.add("9AK1");
        array.add("03AA");
        array.add("7AK9");
        array.add("AA85");
        array.add("05AK");
        array.add("4AK6");
        array.add("PXK");
        array.add("4K0");
        array.add("PEC");
        array.add("PYL");
        array.add("PEV");
        array.add("63A");
        array.add("PSG");
        array.add("PNP");
        array.add("UGB");
        array.add("0AK");
        array.add("PTU");
        array.add("6AK1");
        array.add("KPB");
        array.add("PHO");
        array.add("PIZ");
        array.add("64AK");
        array.add("0AK9");
        array.add("2AK0");
        array.add("AK36");
        array.add("AK37");
        array.add("50AK");
        array.add("6AK2");
        array.add("AK14");
        array.add("AHP");
        array.add("16K");
        array.add("TPO");
        array.add("AK51");

        adapter = new ArrayAdapter<String>(this, android.R.layout.select_dialog_item, array);

        editOriginText.setThreshold(1);
        editOriginText.setAdapter(adapter);
        
        editDestinationText.setThreshold(1);
        editDestinationText.setAdapter(adapter);
    }

    /**
     * startFlight:
     * Called when the start flight button is clicked.
     * @param view the Buttons view.
     */
    public void startFlight(View view) {
        // Get the text from the fields.
        EditText editAircraftText = (EditText) findViewById(R.id.aircraftText);

        // Convert those fields to strings
        String origin = editOriginText.getText().toString();
        String destination = editDestinationText.getText().toString();
        String aircraft = editAircraftText.getText().toString();

        // Create a new flight
        FlightPresenter flightPresenter = new FlightPresenter(origin, destination, aircraft, new Date(), getApplicationContext());

        // Pass the new flightID as an intent.
        Intent intent = new Intent(this, SegmentActivity.class);
        intent.putExtra(FLIGHTID, flightPresenter.getFlightID());
      //test
        Log.i("FLIGHTID", Long.toString(flightPresenter.getFlightID()));
        startActivity(intent);
    }

}
